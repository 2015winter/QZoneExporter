<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<link rel="icon" href="../Common/images/favicon.ico"> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>QQç©ºé—´å¤‡ä»½-åˆ†äº«</title>
	<link rel="stylesheet" href="../Common/vendor/css/font-awesome.min.css">
	<link rel="stylesheet" href="../Common/vendor/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../Common/css/common.css">
	
	<style>
		/* åˆ†äº«é¡µé¢ä¸“å±æ ·å¼ - æµ…ç´«è‰²ä¸»é¢˜ #a29bfe */
		:root {
			--primary-gradient: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
			--card-shadow: 0 4px 15px rgba(162, 155, 254, 0.2);
			--primary-color: #a29bfe;
			--primary-dark: #6c5ce7;
		}
		
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		
		body {
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
			background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
			min-height: 100vh;
			padding: 20px;
			padding-top: 80px;
			padding-bottom: 80px;
		}
		
		/* å¯¼èˆªæ æ ·å¼ */
		.shares-navbar {
			background: var(--primary-gradient) !important;
			backdrop-filter: blur(10px);
		}
		
		.shares-breadcrumb {
			background: transparent !important;
			margin-bottom: 0;
			padding-top: 8px;
		}
		
		.shares-breadcrumb .breadcrumb-item a {
			color: rgba(255, 255, 255, 0.85);
			transition: color 0.3s ease;
		}
		
		.shares-breadcrumb .breadcrumb-item a:hover {
			color: #fff;
			text-decoration: none;
		}
		
		.shares-breadcrumb .breadcrumb-item.active {
			color: rgba(255, 255, 255, 0.9);
		}
		
		.shares-breadcrumb .breadcrumb-item + .breadcrumb-item::before {
			color: rgba(255, 255, 255, 0.5);
		}
		
		/* ä¸»å¡ç‰‡å®¹å™¨ - æ”¶è—é¡µé£æ ¼ */
		.shares-main-card {
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(20px);
			border-radius: 24px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
			padding: 40px;
			max-width: 1200px;
			margin: 0 auto;
		}
		
		/* é¡µé¢æ ‡é¢˜åŒºåŸŸ - æ”¶è—é¡µé£æ ¼ */
		.shares-header {
			text-align: center;
			margin-bottom: 40px;
			padding-bottom: 30px;
			border-bottom: 1px solid rgba(0, 0, 0, 0.08);
		}
		
		.shares-header-icon {
			font-size: 48px;
			background: var(--primary-gradient);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			margin-bottom: 16px;
			display: block;
		}
		
		.shares-header-title {
			font-size: 32px;
			font-weight: 700;
			background: var(--primary-gradient);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			margin-bottom: 12px;
		}
		
		.shares-header-subtitle {
			color: #718096;
			font-size: 16px;
		}
		
		.shares-total-count {
			font-weight: 600;
			color: var(--primary-color);
		}
		
		/* ç­›é€‰æ ‡ç­¾åŒºåŸŸ - æ”¶è—é¡µé£æ ¼ */
		.shares-filters {
			display: flex;
			flex-wrap: wrap;
			gap: 12px;
			justify-content: center;
			margin-bottom: 32px;
			padding-bottom: 24px;
			border-bottom: 1px solid rgba(0, 0, 0, 0.06);
		}
		
		.filter-tag {
			display: inline-flex;
			align-items: center;
			gap: 8px;
			padding: 10px 20px;
			background: linear-gradient(145deg, #f8fafc, #fff);
			border: 1px solid rgba(162, 155, 254, 0.15);
			border-radius: 30px;
			font-size: 14px;
			color: #4a5568;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			text-decoration: none;
		}
		
		.filter-tag:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(162, 155, 254, 0.2);
			background: var(--primary-gradient);
			color: #fff;
			text-decoration: none;
		}
		
		.filter-tag.active {
			background: var(--primary-gradient);
			color: #fff;
			border-color: transparent;
			box-shadow: 0 6px 20px rgba(162, 155, 254, 0.3);
		}
		
		.filter-tag .count {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			min-width: 24px;
			height: 24px;
			padding: 0 8px;
			background: rgba(162, 155, 254, 0.1);
			border-radius: 12px;
			font-size: 12px;
			font-weight: 600;
			color: var(--primary-color);
			transition: all 0.3s ease;
		}
		
		.filter-tag:hover .count,
		.filter-tag.active .count {
			background: rgba(255, 255, 255, 0.25);
			color: #fff;
		}
		
		/* åˆ†äº«å¡ç‰‡ç½‘æ ¼ - æ”¶è—é¡µé£æ ¼ */
		.shares-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
			gap: 20px;
		}
		
		/* åˆ†äº«å¡ç‰‡ - æ”¶è—é¡µé£æ ¼ */
		.share-card {
			background: #fff;
			border-radius: 16px;
			overflow: hidden;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
			transition: all 0.3s ease;
			cursor: pointer;
			display: flex;
			flex-direction: column;
			height: 100%;
		}
		
		.share-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 30px rgba(162, 155, 254, 0.2);
		}
		
		.share-card.active {
			box-shadow: 0 0 0 3px var(--primary-color), 0 10px 30px rgba(162, 155, 254, 0.3);
			transform: translateY(-5px);
		}
		
		.share-card-cover {
			width: 100%;
			height: 180px;
			object-fit: cover;
			transition: transform 0.3s ease;
			background: linear-gradient(135deg, #e8e4ff 0%, #d4d0f7 100%);
		}
		
		.share-card:hover .share-card-cover {
			transform: scale(1.05);
		}
		
		.share-card-content {
			padding: 20px;
			flex: 1;
			display: flex;
			flex-direction: column;
		}
		
		.share-card-type {
			display: inline-flex;
			align-items: center;
			gap: 5px;
			padding: 4px 12px;
			border-radius: 12px;
			font-size: 12px;
			font-weight: 600;
			margin-bottom: 10px;
			align-self: flex-start;
			background: rgba(162, 155, 254, 0.15);
			color: var(--primary-dark);
		}
		
		.share-card-title {
			font-size: 16px;
			font-weight: 600;
			color: #333;
			margin-bottom: 8px;
			line-height: 1.4;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}
		
		.share-card-summary {
			font-size: 14px;
			color: #666;
			line-height: 1.6;
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
			margin-bottom: 12px;
			flex: 1;
		}
		
		.share-card-meta {
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 12px;
			color: #999;
			margin-top: auto;
		}
		
		.share-card-source {
			display: flex;
			align-items: center;
			gap: 5px;
		}
		
		.share-card-actions {
			display: flex;
			gap: 12px;
		}
		
		.share-card-actions span {
			display: flex;
			align-items: center;
			gap: 4px;
		}
		
		/* ç©ºçŠ¶æ€ */
		.shares-empty {
			text-align: center;
			padding: 60px 20px;
			color: #718096;
			display: none;
		}
		
		.shares-empty i {
			font-size: 64px;
			margin-bottom: 20px;
			opacity: 0.3;
		}
		
		.shares-empty p {
			font-size: 16px;
		}
		
		/* åº•éƒ¨é¡µè„š */
		.shares-footer {
			background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9));
			backdrop-filter: blur(10px);
			position: fixed;
			bottom: 0;
			left: 0;
			right: 0;
			z-index: 1000;
			padding: 15px;
			text-align: center;
		}
		
		.footer-text {
			font-size: 14px;
			letter-spacing: 1px;
			color: #fff;
		}
		
		/* ========== ä¾§è¾¹æ»‘å‡ºé¢æ¿æ ·å¼ ========== */
		
		/* é®ç½©å±‚ */
		.detail-overlay {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.5);
			z-index: 1999;
			opacity: 0;
			visibility: hidden;
			transition: all 0.3s ease;
			backdrop-filter: blur(4px);
		}
		
		.detail-overlay.show {
			opacity: 1;
			visibility: visible;
		}
		
		/* ä¾§è¾¹é¢æ¿ */
		.detail-panel {
			position: fixed;
			top: 0;
			right: 0;
			width: 620px;
			max-width: 100%;
			height: 100vh;
			background: #fff;
			z-index: 2000;
			transform: translateX(100%);
			transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
			display: flex;
			flex-direction: column;
			box-shadow: -10px 0 40px rgba(0, 0, 0, 0.15);
		}
		
		.detail-panel.show {
			transform: translateX(0);
		}
		
		/* é¢æ¿å¤´éƒ¨ */
		.panel-header {
			padding: 20px 24px;
			background: var(--primary-gradient);
			display: flex;
			align-items: center;
			justify-content: space-between;
			flex-shrink: 0;
		}
		
		.panel-nav {
			display: flex;
			align-items: center;
			gap: 8px;
		}
		
		.panel-nav-btn {
			width: 38px;
			height: 38px;
			border-radius: 10px;
			background: rgba(255, 255, 255, 0.2);
			border: none;
			cursor: pointer;
			color: #fff;
			font-size: 16px;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.2s ease;
		}
		
		.panel-nav-btn:hover:not(:disabled) {
			background: rgba(255, 255, 255, 0.35);
			transform: scale(1.05);
		}
		
		.panel-nav-btn:disabled {
			opacity: 0.4;
			cursor: not-allowed;
		}
		
		.panel-counter {
			color: #fff;
			font-size: 14px;
			font-weight: 500;
			padding: 0 12px;
		}
		
		.panel-close {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.2);
			border: none;
			cursor: pointer;
			color: #fff;
			font-size: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.25s ease;
		}
		
		.panel-close:hover {
			background: rgba(255, 255, 255, 0.35);
			transform: rotate(90deg);
		}
		
		/* é¢æ¿å†…å®¹ */
		.panel-body {
			flex: 1;
			overflow-y: auto;
			overflow-x: hidden;
			padding: 0;
		}
		
		/* ========== è¯¦æƒ…å†…å®¹æ ·å¼ ========== */
		
		/* è¯¦æƒ…å¤´éƒ¨ */
		.detail-header {
			padding: 20px;
			border-bottom: 1px solid #f0f0f0;
		}
		
		.detail-user {
			display: flex;
			align-items: center;
			gap: 12px;
		}
		
		.detail-avatar {
			width: 50px;
			height: 50px;
			border-radius: 50%;
			object-fit: cover;
			border: 2px solid var(--primary-color);
		}
		
		.detail-user-info {
			flex: 1;
		}
		
		.detail-user-name {
			font-weight: 600;
			color: #333;
			font-size: 16px;
		}
		
		.detail-time {
			font-size: 13px;
			color: #999;
			margin-top: 4px;
		}
		
		.detail-type {
			display: inline-flex;
			align-items: center;
			gap: 5px;
			padding: 4px 12px;
			border-radius: 12px;
			font-size: 12px;
			background: rgba(162, 155, 254, 0.15);
			color: var(--primary-dark);
		}
		
		/* åˆ†äº«æè¿° */
		.detail-desc {
			font-size: 16px;
			color: #333;
			line-height: 1.8;
			padding: 20px;
			border-bottom: 1px solid #f0f0f0;
		}
		
		/* åˆ†äº«æ¥æºå†…å®¹ */
		.detail-source {
			margin: 20px;
			padding: 15px;
			background: #f8f9fa;
			border-radius: 12px;
			border-left: 4px solid var(--primary-color);
			cursor: pointer;
			transition: background 0.3s;
		}
		
		.detail-source:hover {
			background: #f0f1f2;
		}
		
		.detail-source-title {
			font-size: 16px;
			font-weight: 600;
			color: #333;
			margin-bottom: 8px;
			line-height: 1.5;
		}
		
		.detail-source-title a {
			color: inherit;
			text-decoration: none;
		}
		
		.detail-source-title a:hover {
			color: var(--primary-dark);
		}
		
		.detail-source-summary {
			font-size: 14px;
			color: #666;
			line-height: 1.6;
			margin-bottom: 8px;
		}
		
		.detail-source-from {
			font-size: 12px;
			color: #999;
		}
		
		/* ç»Ÿè®¡ä¿¡æ¯ */
		.detail-stats {
			padding: 15px 20px;
			display: flex;
			justify-content: space-between;
			align-items: center;
			border-top: 1px solid #f0f0f0;
			background: #fafafa;
		}
		
		.detail-floor {
			font-size: 12px;
			background: linear-gradient(135deg, rgba(162, 155, 254, 0.1), rgba(108, 92, 231, 0.1));
			padding: 4px 10px;
			border-radius: 10px;
			color: var(--primary-dark);
		}
		
		.detail-actions {
			display: flex;
			gap: 20px;
		}
		
		.detail-action-item {
			display: flex;
			align-items: center;
			gap: 5px;
			font-size: 13px;
			color: #666;
			cursor: pointer;
			transition: color 0.3s;
		}
		
		.detail-action-item:hover {
			color: var(--primary-dark);
		}
		
		.detail-action-item .fa {
			color: var(--primary-dark);
		}
		
		/* è¯„è®ºåŒº */
		.detail-comments {
			padding: 20px;
			border-top: 1px solid #f0f0f0;
		}
		
		.detail-comments-title {
			font-size: 14px;
			color: #666;
			margin-bottom: 16px;
			padding-bottom: 12px;
			border-bottom: 1px dashed #eee;
		}
		
		.detail-comment-item {
			display: flex;
			gap: 10px;
			margin-bottom: 12px;
			padding: 12px;
			background: #f8f9fa;
			border-radius: 10px;
		}
		
		.detail-comment-item:last-child {
			margin-bottom: 0;
		}
		
		.detail-comment-avatar {
			width: 36px;
			height: 36px;
			border-radius: 50%;
			object-fit: cover;
			flex-shrink: 0;
		}
		
		.detail-comment-body {
			flex: 1;
		}
		
		.detail-comment-user {
			font-size: 13px;
			font-weight: 500;
			color: #333;
			margin-bottom: 4px;
		}
		
		.detail-comment-text {
			font-size: 13px;
			color: #666;
			line-height: 1.5;
		}
		
		.detail-comment-time {
			font-size: 11px;
			color: #999;
			margin-top: 4px;
		}
		
		/* é”®ç›˜æç¤º */
		.panel-tips {
			padding: 12px 24px;
			background: #f8fafc;
			border-top: 1px solid #edf2f7;
			font-size: 12px;
			color: #a0aec0;
			text-align: center;
			flex-shrink: 0;
		}
		
		.panel-tips kbd {
			display: inline-block;
			padding: 2px 6px;
			background: #e2e8f0;
			border-radius: 4px;
			font-family: inherit;
			font-size: 11px;
			color: #4a5568;
			margin: 0 2px;
		}
		
		/* Demoæ ‡è®° */
		.demo-badge {
			position: fixed;
			top: 80px;
			right: 20px;
			background: linear-gradient(135deg, #ff6b6b, #ee5a24);
			color: #fff;
			padding: 8px 16px;
			border-radius: 20px;
			font-weight: 600;
			font-size: 14px;
			box-shadow: 0 4px 15px rgba(238, 90, 36, 0.4);
			z-index: 1001;
		}
		
		/* å“åº”å¼ */
		@media (max-width: 768px) {
			.shares-main-card {
				padding: 24px 16px;
				margin: 10px;
				border-radius: 20px;
			}
			
			.shares-header-icon { font-size: 36px; }
			.shares-header-title { font-size: 24px; }
			
			.shares-grid {
				grid-template-columns: 1fr;
				gap: 16px;
			}
			
			.shares-filters { gap: 8px; }
			.filter-tag { padding: 8px 14px; font-size: 13px; }
			
			.detail-panel {
				width: 100%;
			}
			
			.panel-tips {
				display: none;
			}
		}
	</style>
</head>

<body>
	<!-- Demoæ ‡è®° -->
	<div class="demo-badge">
		<i class="fa fa-star mr-1"></i>Demo æ¼”ç¤º
	</div>
	
	<header>
		<nav class="navbar navbar-expand-lg navbar-dark fixed-top shares-navbar">
			<a class="navbar-brand" target="_blank" href="https://github.com/2015winter/QZoneExporter">
				<i class="fa fa-cloud-download mr-2"></i>QQç©ºé—´å¯¼å‡ºåŠ©æ‰‹
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb shares-breadcrumb">
						<li class="breadcrumb-item"><a href="../index.html"><i class="fa fa-home mr-1"></i>ä¸ªäººä¸­å¿ƒ</a></li>
						<li class="breadcrumb-item active" aria-current="page"><i class="fa fa-share-alt mr-1"></i>åˆ†äº«</li>
					</ol>
				</nav>
			</div>
		</nav>
	</header>
	
	<main role="main" class="flex-shrink-0" style="padding: 20px;">
		<div class="shares-main-card">
			<!-- é¡µé¢æ ‡é¢˜ -->
			<div class="shares-header">
				<i class="fa fa-share-alt shares-header-icon"></i>
				<h1 class="shares-header-title">æˆ‘çš„åˆ†äº«</h1>
				<p class="shares-header-subtitle">å…± <span class="shares-total-count" id="shares-count">0</span> æ¡åˆ†äº«ï¼Œè®°å½•äº†é‚£äº›å€¼å¾—åˆ†äº«çš„ç¬é—´</p>
			</div>
			
			<!-- ç­›é€‰æ ‡ç­¾ - ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
			<div class="shares-filters" id="shares-filters"></div>
			
			<!-- åˆ†äº«ç½‘æ ¼ -->
			<div class="shares-grid" id="shares-grid">
				<!-- åŠ¨æ€ç”Ÿæˆ -->
			</div>
			
			<!-- ç©ºçŠ¶æ€ -->
			<div class="shares-empty" id="shares-empty">
				<i class="fa fa-share-alt"></i>
				<p>æš‚æ— åˆ†äº«å†…å®¹</p>
			</div>
		</div>
	</main>
	
	<!-- ä¾§è¾¹è¯¦æƒ…é¢æ¿ -->
	<div class="detail-overlay" id="detail-overlay"></div>
	<div class="detail-panel" id="detail-panel">
		<div class="panel-header">
			<div class="panel-nav">
				<button class="panel-nav-btn" id="btn-prev" title="ä¸Šä¸€æ¡ (â†)"><i class="fa fa-chevron-left"></i></button>
				<span class="panel-counter"><span id="current-index">1</span> / <span id="total-count">0</span></span>
				<button class="panel-nav-btn" id="btn-next" title="ä¸‹ä¸€æ¡ (â†’)"><i class="fa fa-chevron-right"></i></button>
			</div>
			<button class="panel-close" id="btn-close" title="å…³é—­ (Esc)"><i class="fa fa-times"></i></button>
		</div>
		<div class="panel-body" id="panel-body">
			<!-- åŠ¨æ€å†…å®¹ -->
		</div>
		<div class="panel-tips">
			<kbd>â†</kbd> ä¸Šä¸€æ¡ &nbsp;&nbsp; <kbd>â†’</kbd> ä¸‹ä¸€æ¡ &nbsp;&nbsp; <kbd>Esc</kbd> å…³é—­
		</div>
	</div>
	
	<!-- åº•éƒ¨ -->
	<footer class="shares-footer">
		<span class="footer-text">
			<i class="fa fa-share-alt"></i> åˆ†äº«ç¾å¥½ï¼Œè®°å½•ç²¾å½©
		</span>
	</footer>
	
	<script src="../Common/vendor/js/jquery.min.js"></script>
	<script src="../Common/vendor/js/bootstrap.bundle.min.js"></script>
	<script src="json/shares.js"></script>
	<script>
		// å½“å‰ç­›é€‰ç±»å‹
		var currentFilter = 'all';
		// å½“å‰é€‰ä¸­çš„å¡ç‰‡ç´¢å¼•
		var currentIndex = -1;
		// é¢æ¿æ˜¯å¦æ‰“å¼€
		var isPanelOpen = false;
		// å½“å‰ç­›é€‰åçš„åˆ—è¡¨
		var filteredList = [];
		
		// åˆ†äº«ç±»å‹é…ç½®ï¼ˆå”¯ä¸€ç»´æŠ¤ç‚¹ï¼‰- ä¸æ¨¡æ¿ä¿æŒä¸€è‡´
		var shareTypeConfig = [
			{type: 'blog', name: 'æ—¥å¿—', icon: 'ğŸ“'},
			{type: 'album', name: 'ç›¸å†Œ', icon: 'ğŸ“š'},
			{type: 'photo', name: 'ç…§ç‰‡', icon: 'ğŸ–¼ï¸'},
			{type: 'link', name: 'ç½‘é¡µ', icon: 'ğŸŒ'},
			{type: 'video', name: 'è§†é¢‘', icon: 'ğŸ¬'},
			{type: 'product', name: 'å•†å“', icon: 'ğŸ›’'},
			{type: 'article', name: 'æ–°é—»', icon: 'ğŸ“°'},
			{type: 'weibo', name: 'å¾®åš', icon: 'ğŸ’¬'},
			{type: 'music', name: 'éŸ³ä¹', icon: 'ğŸµ'},
			{type: 'other', name: 'å…¶å®ƒ', icon: 'ğŸ“'}
		];
		
		// åˆå§‹åŒ–é¡µé¢
		function init() {
			filteredList = dataList.slice();
			renderFilters();
			renderShares();
			bindEvents();
			updateCount();
		}
		
		// æ¸²æŸ“ç­›é€‰æ ‡ç­¾
		function renderFilters() {
			if (typeof dataList === 'undefined' || !Array.isArray(dataList)) return;
			
			// ç»Ÿè®¡å„ç±»å‹æ•°é‡
			var typeCounts = {};
			for (var i = 0; i < dataList.length; i++) {
				var typeName = dataList[i].share_type;
				typeCounts[typeName] = (typeCounts[typeName] || 0) + 1;
			}
			
			// ç”ŸæˆæŒ‰é’®HTML
			var html = '<button class="filter-tag active" data-type="all">å…¨éƒ¨ <span class="count">' + dataList.length + '</span></button>';
			for (var i = 0; i < shareTypeConfig.length; i++) {
				var config = shareTypeConfig[i];
				var count = typeCounts[config.type] || 0;
				html += '<button class="filter-tag" data-type="' + config.type + '">' + config.icon + ' ' + config.name + ' <span class="count">' + count + '</span></button>';
			}
			
			$('#shares-filters').html(html);
		}
		
		// æ¸²æŸ“åˆ†äº«å¡ç‰‡
		function renderShares() {
			var html = '';
			for (var i = 0; i < filteredList.length; i++) {
				var share = filteredList[i];
				var typeInfo = typeMap[share.share_type] || { name: 'å…¶ä»–', icon: 'ğŸ“Œ', color: '#999' };
				var picsumSeed = share.id || Date.now();
				var coverUrl = share.cover || 'https://picsum.photos/seed/' + picsumSeed + '/400/300';
				
				html += '<div class="share-card" data-index="' + i + '" data-id="' + share.id + '" data-type="' + share.share_type + '">';
				html += '<img class="share-card-cover" src="' + coverUrl + '" alt="å°é¢" onerror="this.onerror=null;this.src=\'https://picsum.photos/seed/' + picsumSeed + '/400/300\'">';
				html += '<div class="share-card-content">';
				html += '<span class="share-card-type">' + typeInfo.icon + ' ' + typeInfo.name + '</span>';
				html += '<h3 class="share-card-title">' + escapeHtml(share.title) + '</h3>';
				html += '<p class="share-card-summary">' + escapeHtml(share.summary || share.comment || '') + '</p>';
				html += '<div class="share-card-meta">';
				html += '<span class="share-card-source">' + (share.source ? '<span>ğŸ“</span> ' + escapeHtml(share.source) : '') + '</span>';
				html += '<span>' + formatDate(share.create_time) + '</span>';
				html += '</div>';
				html += '<div class="share-card-meta" style="margin-top: 8px;">';
				html += '<span></span>';
				html += '<div class="share-card-actions">';
				html += '<span>ğŸ‘ ' + (share.likes || 0) + '</span>';
				html += '<span>ğŸ’¬ ' + (share.comments ? share.comments.length : 0) + '</span>';
				html += '</div>';
				html += '</div>';
				html += '</div>';
				html += '</div>';
			}
			
			$('#shares-grid').html(html);
			
			// æ˜¾ç¤º/éšè—ç©ºçŠ¶æ€
			if (filteredList.length === 0) {
				$('#shares-empty').show();
			} else {
				$('#shares-empty').hide();
			}
		}
		
		// æ›´æ–°è®¡æ•°
		function updateCount() {
			$('#shares-count').text(filteredList.length);
		}
		
		// æ‰“å¼€ä¾§è¾¹é¢æ¿
		function openPanel(index) {
			if (index < 0 || index >= filteredList.length) return;
			
			currentIndex = index;
			isPanelOpen = true;
			
			// æ›´æ–°å¡ç‰‡é€‰ä¸­çŠ¶æ€
			$('.share-card').removeClass('active');
			$('.share-card[data-index="' + index + '"]').addClass('active');
			
			// æ˜¾ç¤ºé®ç½©å’Œé¢æ¿
			$('#detail-overlay').addClass('show');
			$('#detail-panel').addClass('show');
			
			// ç¦æ­¢bodyæ»šåŠ¨
			$('body').css('overflow', 'hidden');
			
			// æ¸²æŸ“è¯¦æƒ…å†…å®¹
			renderPanelContent(index);
			
			// æ›´æ–°å¯¼èˆªçŠ¶æ€
			updateNavState();
		}
		
		// å…³é—­ä¾§è¾¹é¢æ¿
		function closePanel() {
			isPanelOpen = false;
			currentIndex = -1;
			
			// ç§»é™¤å¡ç‰‡é€‰ä¸­çŠ¶æ€
			$('.share-card').removeClass('active');
			
			// éšè—é®ç½©å’Œé¢æ¿
			$('#detail-overlay').removeClass('show');
			$('#detail-panel').removeClass('show');
			
			// æ¢å¤bodyæ»šåŠ¨
			$('body').css('overflow', '');
			
			// æ¸…ç©ºé¢æ¿å†…å®¹
			$('#panel-body').html('');
		}
		
		// æ¸²æŸ“é¢æ¿å†…å®¹
		function renderPanelContent(index) {
			var share = filteredList[index];
			if (!share) return;
			
			var typeInfo = typeMap[share.share_type] || { name: 'å…¶ä»–', icon: 'ğŸ“Œ', color: '#999' };
			var html = '';
			
			// è¯¦æƒ…å¤´éƒ¨
			html += '<div class="detail-header">';
			html += '<div class="detail-user">';
			html += '<img class="detail-avatar" src="https://i.pravatar.cc/100?img=1" alt="å¤´åƒ">';
			html += '<div class="detail-user-info">';
			html += '<div class="detail-user-name">Demoç”¨æˆ·</div>';
			html += '<div class="detail-time">' + formatDate(share.create_time) + '</div>';
			html += '</div>';
			html += '<span class="detail-type">' + typeInfo.icon + ' ' + typeInfo.name + '</span>';
			html += '</div>';
			html += '</div>';
			
			// åˆ†äº«æè¿°
			if (share.comment) {
				html += '<div class="detail-desc">' + escapeHtml(share.comment) + '</div>';
			}
			
			// åˆ†äº«æ¥æºå†…å®¹
			html += '<div class="detail-source" onclick="window.open(\'' + (share.source_url || '#') + '\', \'_blank\')">';
			html += '<h3 class="detail-source-title"><a href="' + (share.source_url || '#') + '" target="_blank">' + escapeHtml(share.title) + '</a></h3>';
			if (share.summary) {
				html += '<p class="detail-source-summary">' + escapeHtml(share.summary) + '</p>';
			}
			if (share.source) {
				html += '<div class="detail-source-from">æ¥è‡ª ' + escapeHtml(share.source) + '</div>';
			}
			html += '</div>';
			
			// ç»Ÿè®¡ä¿¡æ¯
			var floorNum = filteredList.length - index;
			html += '<div class="detail-stats">';
			html += '<span class="detail-floor">#' + floorNum + '</span>';
			html += '<div class="detail-actions">';
			html += '<span class="detail-action-item"><i class="fa fa-thumbs-up"></i> ' + (share.likes || 0) + '</span>';
			html += '<span class="detail-action-item"><i class="fa fa-comment"></i> ' + (share.comments ? share.comments.length : 0) + '</span>';
			html += '</div>';
			html += '</div>';
			
			// è¯„è®ºåŒº
			if (share.comments && share.comments.length > 0) {
				html += '<div class="detail-comments">';
				html += '<div class="detail-comments-title">ğŸ’¬ è¯„è®º (' + share.comments.length + ')</div>';
				
				for (var j = 0; j < share.comments.length; j++) {
					var comment = share.comments[j];
					
					html += '<div class="detail-comment-item">';
					html += '<img class="detail-comment-avatar" src="' + (comment.avatar || 'https://i.pravatar.cc/100?img=' + (j + 10)) + '" alt="å¤´åƒ">';
					html += '<div class="detail-comment-body">';
					html += '<div class="detail-comment-user">' + escapeHtml(comment.user) + '</div>';
					html += '<div class="detail-comment-text">' + escapeHtml(comment.content) + '</div>';
					html += '<div class="detail-comment-time">' + formatDate(comment.time) + '</div>';
					html += '</div>';
					html += '</div>';
				}
				
				html += '</div>';
			}
			
			// å¡«å……é¢æ¿å†…å®¹
			$('#panel-body').html(html);
			
			// æ»šåŠ¨åˆ°é¡¶éƒ¨
			$('#panel-body').scrollTop(0);
		}
		
		// æ›´æ–°å¯¼èˆªçŠ¶æ€
		function updateNavState() {
			var total = filteredList.length;
			
			$('#current-index').text(currentIndex + 1);
			$('#total-count').text(total);
			
			// æ›´æ–°æŒ‰é’®çŠ¶æ€
			$('#btn-prev').prop('disabled', currentIndex <= 0);
			$('#btn-next').prop('disabled', currentIndex >= total - 1);
		}
		
		// ä¸Šä¸€æ¡
		function goPrev() {
			if (currentIndex > 0) {
				openPanel(currentIndex - 1);
			}
		}
		
		// ä¸‹ä¸€æ¡
		function goNext() {
			if (currentIndex < filteredList.length - 1) {
				openPanel(currentIndex + 1);
			}
		}
		
		// ç»‘å®šäº‹ä»¶
		function bindEvents() {
			// ç­›é€‰æ ‡ç­¾ç‚¹å‡»
			$(document).on('click', '.filter-tag', function() {
				$('.filter-tag').removeClass('active');
				$(this).addClass('active');
				currentFilter = $(this).data('type');
				filterShares();
			});
			
			// å¡ç‰‡ç‚¹å‡» - æ‰“å¼€ä¾§è¾¹é¢æ¿
			$('#shares-grid').on('click', '.share-card', function(e) {
				var index = parseInt($(this).data('index'));
				openPanel(index);
			});
			
			// å…³é—­æŒ‰é’®ç‚¹å‡»
			$('#btn-close').on('click', closePanel);
			
			// é®ç½©ç‚¹å‡»å…³é—­
			$('#detail-overlay').on('click', closePanel);
			
			// ä¸Šä¸€æ¡/ä¸‹ä¸€æ¡æŒ‰é’®
			$('#btn-prev').on('click', goPrev);
			$('#btn-next').on('click', goNext);
			
			// é”®ç›˜äº‹ä»¶
			$(document).on('keydown', function(e) {
				if (!isPanelOpen) return;
				
				if (e.key === 'Escape') {
					closePanel();
					e.preventDefault();
				} else if (e.key === 'ArrowLeft') {
					goPrev();
					e.preventDefault();
				} else if (e.key === 'ArrowRight') {
					goNext();
					e.preventDefault();
				}
			});
			
			// é˜»æ­¢é¢æ¿å†…ç‚¹å‡»äº‹ä»¶å†’æ³¡åˆ°é®ç½©
			$('#detail-panel').on('click', function(e) {
				e.stopPropagation();
			});
		}
		
		// ç­›é€‰åˆ†äº«
		function filterShares() {
			if (currentFilter === 'all') {
				filteredList = dataList.slice();
			} else {
				filteredList = [];
				for (var i = 0; i < dataList.length; i++) {
					if (dataList[i].share_type === currentFilter) {
						filteredList.push(dataList[i]);
					}
				}
			}
			
			renderShares();
			updateCount();
		}
		
		// æ ¼å¼åŒ–æ—¥æœŸ
		function formatDate(dateStr) {
			if (!dateStr) return '';
			var date = new Date(dateStr);
			var year = date.getFullYear();
			var month = ('0' + (date.getMonth() + 1)).slice(-2);
			var day = ('0' + date.getDate()).slice(-2);
			var hour = ('0' + date.getHours()).slice(-2);
			var minute = ('0' + date.getMinutes()).slice(-2);
			return year + '-' + month + '-' + day + ' ' + hour + ':' + minute;
		}
		
		// HTMLè½¬ä¹‰
		function escapeHtml(str) {
			if (!str) return '';
			return str.replace(/&/g, '&amp;')
					  .replace(/</g, '&lt;')
					  .replace(/>/g, '&gt;')
					  .replace(/"/g, '&quot;')
					  .replace(/'/g, '&#039;');
		}
		
		// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
		$(document).ready(function() {
			init();
		});
	</script>
</body>

</html>
