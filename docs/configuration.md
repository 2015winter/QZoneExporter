# QQ空间导出助手 - 配置说明

> **Configuration Guide for QZone Exporter**

---

## 📝 配置入口

### 打开配置页面

1. **方式一：** 右键点击浏览器工具栏的助手图标 → 选择「选项」
2. **方式二：** 左键点击助手图标 → 点击「设置」按钮
3. **方式三：** 在扩展管理页面找到助手 → 点击「详情」→「扩展选项」

### ⚠️ 重要提示

| 注意事项 | 说明 |
|---------|------|
| **手动保存** | 修改配置后需点击「保存」按钮，不会自动保存 |
| **刷新生效** | 保存配置后需**刷新QQ空间页面**，新配置才会生效 |

---

## 🔧 核心配置

### 1. 文件下载工具

**配置路径：** 选项 → 公共 → 文件下载工具

决定如何下载空间中的多媒体文件（图片、视频等）。

| 下载方式 | 推荐度 | 适用场景 | 优缺点 |
|---------|-------|---------|--------|
| **浏览器** | ⭐⭐ | 文件较少 | ✅ 无需额外软件<br>❌ 大量下载易崩溃<br>❌ 视频下载失败率高 |
| **Motrix** | ⭐⭐⭐⭐⭐ | 文件较多 | ✅ 图形界面易用<br>✅ 支持断点续传<br>❌ 需要安装 |
| **Aria2** | ⭐⭐⭐⭐ | 文件较多 | ✅ 功能强大<br>✅ 支持无人值守<br>❌ 命令行配置 |
| **迅雷** | ⭐⭐ | 习惯迅雷 | ✅ 下载速度快<br>❌ 需手动确认<br>❌ 容易假死 |
| **外链模式** | ⭐ | 仅导出文案 | ✅ 不下载文件<br>❌ 链接可能失效 |

#### 浏览器下载注意事项

使用浏览器下载时，**必须关闭**以下设置：

```
设置 → 下载 → 关闭「下载前询问每个文件的保存位置」
```

#### Motrix/Aria2 配置

| 配置项 | Motrix 默认值 | Aria2 默认值 |
|--------|-------------|-------------|
| RPC 地址 | `http://127.0.0.1:16800/jsonrpc` | `http://127.0.0.1:6800/jsonrpc` |
| RPC 密钥 | （查看 Motrix 设置） | （自行配置） |

---

### 2. 备份类型

**配置路径：** 选项 → 各模块 → 备份类型

| 格式 | 推荐度 | 说明 | 适用场景 |
|------|-------|------|---------|
| **HTML** | ⭐⭐⭐⭐⭐ | 浏览器直接打开，内容完整美观 | 默认推荐 |
| **Markdown** | ⭐⭐⭐ | 轻量级，纯文本格式 | 博客迁移 |
| **JSON** | ⭐⭐⭐ | 结构化数据格式 | 开发者/数据迁移 |
| **Excel** | ⭐⭐⭐ | 表格形式，便于筛选 | 数据分析 |
| **文件** | ⭐⭐ | 仅下载图片文件 | 相册专用 |
| **MP4** | ⭐⭐ | 仅下载视频文件 | 视频专用 |

---

### 3. 查询间隔

**配置路径：** 选项 → 各模块 → 查询间隔

模拟人工翻页的时间间隔（单位：秒）。

| 场景 | 最小间隔 | 最大间隔 | 说明 |
|------|---------|---------|------|
| 默认 | 1 | 2 | 适合数据量小的情况 |
| 保守 | 5 | 10 | 适合数据量较大 |
| 安全 | 10 | 20 | 遇到限制时使用 |
| 超安全 | 20 | 30 | 频繁被限制时使用 |

> ⚠️ **警告：** 间隔过短可能导致账号被临时冻结。如遇冻结，请调大间隔并等待解冻。

---

### 4. 增量备份

**配置路径：** 选项 → 各模块 → 增量备份

| 模式 | 说明 | 适用场景 |
|------|------|---------|
| **全量** | 备份所有内容 | 首次备份（推荐） |
| **上次备份** | 基于上次备份位置继续 | 定期备份 |
| **自定义** | 指定开始时间 | 特定时间段 |

---

## 📁 模块配置

### 说说配置

| 配置项 | 默认值 | 说明 |
|--------|-------|------|
| 全文说说 | ✅ 开启 | 获取长说说的完整内容 |
| 展开全文 | ❌ 关闭 | 备份文件中是否默认展开全文 |
| 语音说说 | ✅ 开启 | 下载语音说说的音频文件 |
| 屏蔽开关 | ❌ 关闭 | 按关键词过滤说说 |

#### 关键词屏蔽功能

用于过滤含有指定关键词的说说（如广告类内容）：

```
使用说明：
- 一行一个关键词
- 多个条件用 && 连接表示"同时满足"
- 多行表示"满足任一"即屏蔽

示例：
微商&&代购        # 同时包含"微商"和"代购"才屏蔽
广告
推广链接
```

> ⚠️ **请谨慎使用，避免误屏蔽正常内容**

---

### 日志配置

| 配置项 | 选项 | 说明 |
|--------|------|------|
| 展示方式 | 表格 / 列表 | 备份文件的显示风格 |
| 日志视图 | 列表 / 摘要 | 列表仅显示标题，摘要显示内容预览 |

---

### 相册配置

| 配置项 | 默认值 | 说明 |
|--------|-------|------|
| **列表类型** | 详情列表 | 推荐，速度快，每页最多1000张 |
| 相片详情 | ❌ 关闭 | 获取拍摄地点、权限信息等 |
| 相片视频 | ❌ 关闭 | 下载相册中的视频 |
| 相片预览 | ❌ 关闭 | 生成缩略图（会增加下载量） |
| **相片质量** | 原图 | 可选：原图 / 高清 / 普通 |

#### 列表类型对比

| 类型 | 每页数量 | 速度 | 包含视频信息 |
|------|---------|------|-------------|
| 详情列表 | 1000 | ⚡ 快 | ✅ 自带 |
| 默认列表 | 90 | 🐢 慢 | 需额外勾选 |

---

### 好友配置

| 配置项 | 默认值 | 说明 |
|--------|-------|------|
| 互动信息 | ❌ 关闭 | 获取好友添加时间、亲密度、共同好友等 |
| 空间权限 | ❌ 关闭 | 检测是否有权限访问好友空间 |
| 特别关心 | ❌ 关闭 | 检测好友是否在特别关心列表 |
| 单向好友 | ❌ 关闭 | 检测单向好友 |

> 💡 **提示：** 开启这些选项会增加备份时间

---

### 分享配置

#### 来源管理

自定义分享内容的来源显示名称：

```
原始显示：https://mp.weixin.qq.com/...
自定义后：微信公众号
```

---

## ⚙️ 公共配置

### 列表重试

当请求失败时的重试策略：

| 配置项 | 默认值 | 说明 |
|--------|-------|------|
| 重试次数 | 3 | 失败后最多重试次数 |
| 重试间隔 | 5秒 | 每次重试的等待时间 |

### 图片类型识别

| 状态 | 效果 |
|------|------|
| 开启 | 识别图片后缀名（.jpg/.png/.gif等） |
| 关闭 | 不识别后缀名 |

> 💡 开启后备份时间略增加，但便于文件管理

### 迅雷配置

| 配置项 | 默认值 | 说明 |
|--------|-------|------|
| 最大任务数 | 3000 | 每次唤醒迅雷添加的任务数 |
| 唤起间隔 | 60秒 | 每次唤醒之间的等待时间 |

---

## 🎯 推荐配置方案

### 方案一：快速备份（数据量小）

适合说说少于 1000 条、相片少于 5000 张的用户。

```
下载工具：浏览器
备份类型：HTML
查询间隔：1-2 秒
增量备份：全量
```

### 方案二：稳定备份（推荐）

适合大多数用户。

```
下载工具：Motrix
备份类型：HTML
查询间隔：3-5 秒
增量备份：全量（首次）/ 上次备份（后续）
相册列表：详情列表
```

### 方案三：安全备份（数据量大）

适合说说超过 5000 条或相片超过 20000 张的用户。

```
下载工具：Motrix / Aria2
备份类型：HTML
查询间隔：10-20 秒
增量备份：全量
列表重试：5 次 / 10 秒间隔
```

---

## 🔗 相关链接

- [安装教程](./install.md)
- [使用指南](./usage.md)
- [常见问题](./faq.md)
- [离线查看](./offline.md)

---

*本文档基于原作者芷炫的配置说明优化整理。*
